{"version":3,"file":"index.js","sources":["../src/js/toast.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nexport const toastError = message => {\n  iziToast.error({\n    message: message,\n    closeOnClick: true,\n    close: false,\n    position: 'topRight',\n    transitionIn: 'fadeInLeft',\n    transitionOut: 'fadeOutLeft',\n  });\n};\n","import axios from 'axios';\nimport { toastError } from './toast';\n\nconst API = '54255948-743bb2e2e8edc610c07792dbd';\nconst BASE_URL = 'https://pixabay.com';\naxios.defaults.baseURL = BASE_URL;\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get('/api/', {\n      params: {\n        q: query || '',\n        image_type: 'photo',\n        key: API,\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    })\n    .then(function (response) {\n      if (response.data.total === 0) {\n        toastError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return response.data.hits;\n    })\n    .catch(function (error) {\n      if (error.response) {\n        toastError(error.response.status);\n\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        toastError('error request');\n        console.log(error.request);\n      } else {\n        toastError(error.message);\n        console.log('Error', error.message);\n      }\n      // console.log(error.config);\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst createMarkup = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n  <img\n  class=\"gallery-image\"\n  src=\"${webformatURL}\"\n  alt=\"${tags}\"\n  />\n  </a>\n   <ul class=\"discriptions\">\n      <li>\n        <p class=\"disc-title\">likes</p>\n        <p class=\"disc-text\">${likes}</p>\n      </li>\n      <li>\n        <p class=\"disc-title\">views</p>\n        <p class=\"disc-text\">${views}</p>\n      </li>\n      <li>\n        <p class=\"disc-title\">comments</p>\n        <p class=\"disc-text\">${comments}</p>\n      </li>\n      <li>\n        <p class=\"disc-title\">downloads</p>\n        <p class=\"disc-text\">${downloads}</p>\n      </li>\n    </ul>\n  </li>\n  `;\n      }\n    )\n    .join(' ');\n};\nexport function createGallery(images) {\n  galleryEl.insertAdjacentHTML('beforeend', createMarkup(images));\n  new SimpleLightbox('.gallery a').refresh();\n}\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\nexport function showLoader() {\n  loader.style.display = 'inline-block';\n}\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\nimport { toastError } from './js/toast';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', searchSubmitFn);\n\nfunction searchSubmitFn(event) {\n  event.preventDefault();\n  const form = event.target;\n\n  const {\n    'search-text': { value: searchValue },\n  } = form.elements;\n\n  if (!searchValue.trim()) {\n    console.log('empty input!');\n    toastError('Please fill in the search field!');\n    return;\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(searchValue.trim()).then(images => {\n    hideLoader();\n    createGallery(images);\n  });\n}\n"],"names":["toastError","message","iziToast","API","BASE_URL","axios","getImagesByQuery","query","response","error","galleryEl","loader","createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","SimpleLightbox","clearGallery","showLoader","hideLoader","formEl","searchSubmitFn","event","form","searchValue"],"mappings":"+vBAEO,MAAMA,EAAaC,GAAW,CACnCC,EAAS,MAAM,CACb,QAASD,EACT,aAAc,GACd,MAAO,GACP,SAAU,WACV,aAAc,aACd,cAAe,aACnB,CAAG,CACH,ECRME,EAAM,qCACNC,EAAW,sBACjBC,EAAM,SAAS,QAAUD,EAElB,SAASE,EAAiBC,EAAO,CACtC,OAAOF,EACJ,IAAI,QAAS,CACZ,OAAQ,CACN,EAAGE,GAAS,GACZ,WAAY,QACZ,IAAKJ,EACL,YAAa,aACb,WAAY,MACb,CACP,CAAK,EACA,KAAK,SAAUK,EAAU,CACxB,OAAIA,EAAS,KAAK,QAAU,GAC1BR,EACE,0EACV,EAEaQ,EAAS,KAAK,IAC3B,CAAK,EACA,MAAM,SAAUC,EAAO,CACtB,OAAIA,EAAM,UACRT,EAAWS,EAAM,SAAS,MAAM,EAEhC,QAAQ,IAAIA,EAAM,SAAS,IAAI,EAC/B,QAAQ,IAAIA,EAAM,SAAS,MAAM,EACjC,QAAQ,IAAIA,EAAM,SAAS,OAAO,GACzBA,EAAM,SACfT,EAAW,eAAe,EAC1B,QAAQ,IAAIS,EAAM,OAAO,IAEzBT,EAAWS,EAAM,OAAO,EACxB,QAAQ,IAAI,QAASA,EAAM,OAAO,GAG7B,EACb,CAAK,CACL,CCxCA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAeC,GACZA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,kCAEmBL,CAAa;AAAA;AAAA;AAAA,SAGtCD,CAAY;AAAA,SACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAMkBC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAMnC,EACA,KAAK,GAAG,EAEN,SAASC,EAAcR,EAAQ,CACpCH,EAAU,mBAAmB,YAAaE,EAAaC,CAAM,CAAC,EAC9D,IAAIS,EAAe,YAAY,EAAE,SACnC,CACO,SAASC,GAAe,CAC7Bb,EAAU,UAAY,EACxB,CACO,SAASc,GAAa,CAC3Bb,EAAO,MAAM,QAAU,cACzB,CACO,SAASc,GAAa,CAC3Bd,EAAO,MAAM,QAAU,MACzB,CCtDA,MAAMe,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUC,CAAc,EAEhD,SAASA,EAAeC,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OAEb,CACJ,cAAe,CAAE,MAAOE,CAAa,CACzC,EAAMD,EAAK,SAET,GAAI,CAACC,EAAY,OAAQ,CACvB,QAAQ,IAAI,cAAc,EAC1B9B,EAAW,kCAAkC,EAC7C,MACD,CACDuB,IACAC,IACAlB,EAAiBwB,EAAY,KAAM,CAAA,EAAE,KAAKjB,GAAU,CAClDY,IACAJ,EAAcR,CAAM,CACxB,CAAG,CACH"}